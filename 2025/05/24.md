## 取り組んだ課題一覧

- **プロになるためのWeb技術入門**
    - 第八章Web AIP

## わかったこと

- REST full APIのメリット
    - Web上の「もの（＝リソース）」がURLでそのまま表されているから、どこにアクセスすればいいか分かりやすい
    - 操作ある程度ルールが決まっていて「GET」、「POST」、「PUT」、「DELETE」などのHTTPメソッドを見ればなにをしたいAPIなのか分かる
    - １つのAPIがやることが限られているから、なにをしてくれるのかが分かりやすい
- REST full APIのデメリット
    - ホテル等の予約システムを使い、複数日に渡り連泊予約する場合、詳細ページ各々にGETリクエストとその後POSTリクエスを予約日数と同じ数づする必要がある。
    - 予約最中に他のユーザーが同じ日を予約した場合。失敗する（やり直しが発生する）
    
    解決策
    
    ```jsx
    POST /reserve
    {
      "reserveRequest": {
        "from": "2024-05-01",
        "to": "2024-05-03"
      }
    }
    ```
    
    上記のようにまとめて予約できるAPIを作成したら良い。
    
- オーバーフェッチングとN＋１問題の対応
    
    オーバーフェッチングとは必要以上にデータを取ってくる。（無駄な通信が発生して、時間がかかる）
    
    N+1問題とはRESTに忠実なAPIでデータを取得し、Todoの一覧をと合わせて詳細を表示するときに一覧を取るAPIとTodoの詳細を取得するため、`Todoの数の詳細を取得＋一覧を表示する`　このような通信が無駄に多くなる問題  
    
    対策方法
    
    最初から「一覧表示に必要な情報だけ（タイトル・期限）」を返すAPIを作る
    
    ```jsx
    GET /todos/listview
    
    [
      { "id": "1", "title": "買い物", "deadline": "2024-06-01" },
      { "id": "2", "title": "原稿提出", "deadline": "2024-06-05" },
      ...
    ]
    ```
    
    問題
    
    - 似たようなAPIが増える
    - 将来のことを考えて、情報を多く取得するAPIを作る→オーバーフェッチングになる

    GraphQL

    近年、N+1問題やオーバーフェッチングの対策として注目されている

    - クライアントが「欲しい情報だけを指定して取得する」仕組み

    - RESTとGraphQLの関係性
        - Web API全体と、そこに根ざしているRESTの考えがカバーしきれない部分をGraphQLが埋めている。

## 次やること

- **プロになるためのWeb技術入門**

## 感じたこと

- Web技術に基本はただフレームワークやライブラリを使って開発していては学びづらい

## 学習時間

- 4h